fence:
  replicaCount: 2
  image:
    repository: quay.io/cdis/fence
    pullPolicy: IfNotPresent
    tag: 'master'

  usersync:
    usersync: true
    userYamlS3Path: s3://ci-useryaml/user.yaml
    # we do not want usersync to interrupt test flow
    # so it is set to run on the 1st of January if it is a Monday
    schedule: '0 0 1 1 1'
    syncFromDbgap: false
    env:
      - name: AWS_ACCESS_KEY_ID
        value: test
      - name: AWS_SECRET_ACCESS_KEY
        value: test
      - name: AWS_ENDPOINT_URL
        value: 'http://localstack.ci.planx-pla.net'
      - name: AWS_DEFAULT_REGION
        value: 'us-east-1'

  FENCE_CONFIG:
    ENABLE_AUDIT_LOGS:
      presigned_url: false
      login: true
    LOGIN_REDIRECT_WHITELIST: [".", "/login"]
    PUSH_AUDIT_LOGS_CONFIG:
      type: aws_sqs
      aws_sqs_config:
        sqs_url: http://localstack.ci.planx-pla.net/000000000000/audit-service-sqs
        region: us-east-1
        aws_cred: 'cdistest'
    AWS_CREDENTIALS:
      cdistest:
        aws_access_key_id: test
        aws_secret_access_key: test #pragma: allowlist secret
    S3_BUCKETS:
      cdis-presigned-url-test:
        region: 'us-east-1'
        cred: 'cdistest'
        endpoint_url: 'http://localstack.ci.planx-pla.net'
      gen3-helm-data-upload-bucket:
        region: 'us-east-1'
        cred: 'cdistest'
        endpoint_url: 'http://localstack.ci.planx-pla.net'
    DATA_UPLOAD_BUCKET: 'gen3-helm-data-upload-bucket'
    LOGIN_OPTIONS:
    - name: 'Login from Google'
      desc: 'description'
      idp: google
      #secondary: True
    - name: 'RAS Login'
      idp: ras
    MOCK_GOOGLE_AUTH: true
    HTTP_PROXY:
      host: 'cloud-proxy.internal.io'
      port: 3128
    ENABLED_IDENTITY_PROVIDERS:
      default: google
      providers:
        google:
          name: Login from Google
